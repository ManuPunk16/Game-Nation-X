<div class="mat-app-background">
  <mat-toolbar color="primary">
    <button mat-icon-button (click)="sidenav.toggle()" aria-label="Menu">
      <mat-icon>menu</mat-icon>
    </button>
    <span class="spacer"></span>
    <span><a class="white-text" [routerLink]="['/']">GameNationX</a></span>
    <span class="spacer"></span>
    <div>
      <mat-slide-toggle aria-label="Brightness switch" (change)="toggleTheme()">
        <mat-icon>brightness_2</mat-icon>
      </mat-slide-toggle>
    </div>
  </mat-toolbar>
  <mat-sidenav-container>
    <mat-sidenav #sidenav mode="over" style="width: 300px;">
      <mat-nav-list>
        <a mat-list-item [routerLink]="['/']" (click)="sidenav.close()">Inicio</a>
        <a mat-list-item [routerLink]="['about']" (click)="sidenav.close()">Sobre la página</a>
        <a mat-list-item [routerLink]="['contact']" (click)="sidenav.close()">Contacto</a>
        <a mat-list-item [routerLink]="['terms-conditions']" (click)="sidenav.close()">Terminos y Condiciones</a>
        <a mat-list-item [routerLink]="['desclimer']" (click)="sidenav.close()">Descargo de Responsabilidad</a>
        <a mat-list-item [routerLink]="['privacy-policy']" (click)="sidenav.close()">Politicas de Privacidad</a>
        <a mat-list-item href="https://gamenax.com/sitemap.xml" target="_blank" rel="noopener noreferrer" (click)="sidenav.close()">Mapa del Sitio</a>
      </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content>
      <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <picture>
              <img [src]="image_banner" class="d-block w-100 img-fluid" alt="GameNationX Banner">
            </picture>
          </div>
        </div>
      </div>

      <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column">
        <div fxLayout="column" fxLayout.gt-sm="column" fxFlex="20" class="sidebar">
          <mat-card>
            <mat-card-header>
              <mat-card-title>Buscador</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <div fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutAlign="center" layout-margin>
                <mat-form-field appearance="fill" color="accent" fxFlex="100%">
                  <mat-label>Nombre del juego</mat-label>
                  <input matInput type="text" [(ngModel)]="keyword" (input)="search()" [matAutocomplete]="auto">
                  <button matSuffix mat-icon-button *ngIf="keyword" (click)="clearSearch()">
                    <mat-icon>close</mat-icon>
                  </button>
                  <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let result of searchResults | async" [value]="result.name" [routerLink]="['/game-details/', result.id]">
                      {{ result.name }}
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>
              </div>
              <div fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutAlign="center" layout-margin *ngIf="searchResults && (searchResults | async)?.length === 0">
                No hay relaciones con tu búsqueda.
              </div>
            </mat-card-content>
          </mat-card>
        </div>
        <div fxFlex="80">
          <mat-card>
            <mat-card-content>
              <router-outlet></router-outlet>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <app-footer></app-footer>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
