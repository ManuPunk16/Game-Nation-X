<mat-card>
  <mat-card-content>
    <div>
      <button mat-raised-button (click)="newGame()">
        Nuevo Registro
      </button>
    </div>
    <br>
    <mat-divider></mat-divider>
    <table mat-table [dataSource]="dataSourceGames">
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef > Acciones </th>
        <td mat-cell *matCellDef="let row" data-label="actions">
          <!-- <button mat-flat-button color="primary" (click)="onPlatformDialogEdit(row)">
            <mat-icon> remove_red_eye </mat-icon>
          </button> -->
        </td>
      </ng-container>

      <ng-container matColumnDef="published">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Publicado </th>
        <td mat-cell *matCellDef="let item" data-label="published">
          <mat-slide-toggle [checked]="item.published" (change)="updatePublished(item, $event)"></mat-slide-toggle>
        </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Juego </th>
        <td mat-cell *matCellDef="let item" data-label="name"> {{item.name}} </td>
      </ng-container>

      <ng-container matColumnDef="franchise">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Franquicia </th>
        <td mat-cell *matCellDef="let item" data-label="franchise"> {{item.franchise}} </td>
      </ng-container>

      <ng-container matColumnDef="categories">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Categorias </th>
        <td mat-cell *matCellDef="let item" data-label="categories"> {{item.categories}} </td>
      </ng-container>

      <ng-container matColumnDef="platforms">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Plataformas </th>
        <td mat-cell *matCellDef="let item" data-label="platforms"> {{item.platforms}} </td>
      </ng-container>

      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Creacion </th>
        <td mat-cell *matCellDef="let item" data-label="createdAt"> {{item.createdAt.toDate() | date }} </td>
      </ng-container>

      <ng-container matColumnDef="updatedAt">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Ultima Actualizacion </th>
        <td mat-cell *matCellDef="let item" data-label="updatedAt"> {{item.updatedAt.toDate() | date }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayeColumnGames"></tr>
      <tr mat-row *matRowDef="let row; columns: displayeColumnGames;" ></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[15, 30, 50]"
                     showFirstLastButtons
                     aria-label="Select page"
                     >
    </mat-paginator>
  </mat-card-content>
</mat-card>

<br>
<mat-divider></mat-divider>
<br>

<div fxLayout="row wrap" fxLayoutGap="16px grid">
  <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
    <mat-card>
      <mat-card-header>
        <mat-card-title>
          Categorias
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <button mat-raised-button (click)="onCategoryDialogCreate()">Crear</button>
        <mat-table #table [dataSource]="dataSourceCategories">
          <ng-container matColumnDef="actions">
            <mat-header-cell  *matHeaderCellDef class="action"> Acciones </mat-header-cell>
            <mat-cell *matCellDef="let row" data-label="actions">
              <button mat-flat-button color="primary" (click)="onCategoryDialogEdit(row)">
                <mat-icon> remove_red_eye </mat-icon>
              </button>
            </mat-cell>
          </ng-container>

          <!-- Categorias -->
          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Categorias </mat-header-cell>
            <mat-cell *matCellDef="let item" data-label="name"> {{item.name}} </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumnCategories"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumnCategories;" ></mat-row>
        </mat-table>
      </mat-card-content>
    </mat-card>
  </div>

  <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%">
    <mat-card>
      <mat-card-header>
        <mat-card-title>
          Plataformas
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <button mat-raised-button (click)="onPlatformDialogCreate()">Crear</button>
        <mat-table #table [dataSource]="dataSourcePlatform">
          <ng-container matColumnDef="actions">
            <mat-header-cell  *matHeaderCellDef > Acciones </mat-header-cell>
            <mat-cell *matCellDef="let row" data-label="actions">
              <button mat-flat-button color="primary" (click)="onPlatformDialogEdit(row)">
                <mat-icon> remove_red_eye </mat-icon>
              </button>
            </mat-cell>
          </ng-container>

          <!-- Plataformas -->
          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Plataformas </mat-header-cell>
            <mat-cell *matCellDef="let item" data-label="name"> {{item.name}} </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumnPlatforms"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumnPlatforms;" ></mat-row>
        </mat-table>
      </mat-card-content>
    </mat-card>
  </div>
</div>
